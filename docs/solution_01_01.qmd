---
title: "Block With Friction"
subtitle: Position Control with friction. Using Pole Placement + PD.
---

## State Space representation

We can convert the set of ODE into a state space representation. The final bode plot of the block position is: 


There is a slight difference between the `lsim` simulation and the FMU simulation. I need to recheck some stuff.

~~~ {.control target=TutorialBlockWithFriction} 
let Kp = 337;
let Kd = 64;
function controlFunction(block)
{
  return -( block.x * Kp + block.dx*Kd);
}
~~~ 
